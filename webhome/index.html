<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Lambo Search ‚Äî Nothing App</title>
    <script async src="https://cse.google.com/cse.js?cx=f015436e565c94c8d"></script>
    <style>
        :root {
            --bg: #0f1115;
            --fg: #e4e6eb;
            --primary: #e4e6eb;
            --surface: rgba(255, 255, 255, 0.05);
            --glass-border: rgba(255, 255, 255, 0.1);
            --radius: 24px;
            --blur: blur(18px);
            --button-bg: #e4e6eb;
            --button-fg: #0f1115;
        }

        * { box-sizing: border-box; margin: 0; padding: 0 }
        html, body { height: 100% }
        body {
            background: var(--bg);
            color: var(--fg);
            font-family: Inter, system-ui, Arial, sans-serif;
            padding: 18px;
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 12px;
        }

        .logo {
            font-weight: 900;
            font-size: 36px;
            text-align: center;
            background: linear-gradient(90deg, #e4e6eb, #888a8d, #e4e6eb);
            background-size: 300% 300%;
            -webkit-background-clip: text;
            color: transparent;
            animation: glowIdle 6s ease-in-out infinite;
            border-radius: 20px;
            padding: 6px 0;
        }

        @keyframes glowIdle {
            0% { text-shadow: 0 0 6px rgba(228, 230, 235, .2); }
            50% { text-shadow: 0 0 12px rgba(228, 230, 235, .4); }
            100% { text-shadow: 0 0 6px rgba(228, 230, 235, .2); }
        }

        .thinking { animation: glowThink 1.2s linear infinite; }

        @keyframes glowThink {
            0% { text-shadow: 0 0 10px #ff004c; }
            50% { text-shadow: 0 0 10px #00c8ff; }
            100% { text-shadow: 0 0 10px #ff004c; }
        }

        .card {
            width: 100%;
            max-width: 420px;
            background: var(--surface);
            backdrop-filter: var(--blur);
            -webkit-backdrop-filter: var(--blur);
            border: 1px solid var(--glass-border);
            border-radius: var(--radius);
            padding: 14px;
            box-shadow: 0 12px 36px rgba(0, 0, 0, 0.4);
        }

        .row { display: flex; gap: 10px; align-items: center; }
        input[type="text"] {
            flex: 1;
            padding: 14px;
            border-radius: 28px;
            border: 1px solid rgba(255, 255, 255, 0.05);
            background: rgba(0, 0, 0, 0.3);
            color: var(--fg);
            font-size: 15px;
            outline: none;
        }

        button.btn {
            background: var(--button-bg);
            color: var(--button-fg);
            padding: 12px 14px;
            border-radius: 28px;
            border: 0;
            font-weight: 700;
            font-size: 14px;
            cursor: pointer;
            transition: opacity 0.2s;
        }
        button.btn:hover { opacity: 0.9; }

        .result {
            width: 100%;
            max-width: 420px;
            background: var(--surface);
            backdrop-filter: var(--blur);
            border-radius: var(--radius);
            padding: 12px;
            box-shadow: 0 12px 36px rgba(0, 0, 0, 0.4);
            min-height: 110px;
        }

        .sectionTitle { color: #888a8d; font-weight: 700; margin-bottom: 8px; font-size: 12px; text-transform: uppercase; letter-spacing: 1px; }
        .lamboText { font-size: 15px; line-height: 1.5; color: var(--fg); white-space: pre-wrap; }
        .historyItem { color: var(--fg); text-decoration: underline; cursor: pointer; font-size: 13px; opacity: 0.7; margin-bottom: 5px; }
        .settingsFloat { position: fixed; right: 18px; bottom: 18px; width: 56px; height: 56px; border-radius: 14px; background: var(--button-bg); color: var(--button-fg); display: flex; align-items: center; justify-content: center; font-weight: 800; cursor: pointer; z-index: 60; }
        .overlay { position: fixed; inset: 0; background: rgba(0,0,0,0.85); display: none; align-items: center; justify-content: center; z-index: 70; }
        .settingsBox { width: 92%; max-width: 420px; background: #1a1d23; border-radius: 20px; padding: 20px; display: flex; flex-direction: column; gap: 15px; border: 1px solid var(--glass-border); }
        .label { font-size: 13px; color: #888a8d; font-weight: 700; }
        select, input[id="apiKeyInput"], input[id="tileURL"] { padding: 12px; border-radius: 12px; border: 1px solid var(--glass-border); background: #000; color: #fff; width: 100%; }
        .typingCursor { display: inline-block; width: 8px; height: 16px; background: var(--fg); margin-left: 6px; animation: blink 1s step-end infinite; }
        @keyframes blink { 50% { opacity: 0 } }
    </style>
</head>
<body>

    <div class="logo" id="logo">LAMBO</div>
    <div class="subtitle" style="font-size: 14px; opacity: 0.8;">your friend & smart AI assistant üò∫</div>
    <div class="byline" style="font-size: 11px; opacity: 0.5;">developed by <strong>Montry</strong> for Nothing</div>

    <div class="card">
        <div class="row">
            <input id="q" type="text" placeholder="ask lambo or paste a URL... ‚ú®" />
            <button class="btn" id="goBtn">GO</button>
        </div>
        <div style="margin-top:10px; display:flex; gap:8px;">
            <button class="btn" id="micBtn">üé§</button>
            <button class="btn" id="clearBtn">‚úñ</button>
        </div>
    </div>

    <div class="result" id="lamboResult">
        <div class="sectionTitle">LAMBO vibe ‚Äî AI answer</div>
        <div class="lamboText" id="lamboText">Lambo is chillin' ‚Äî drop a question... üòº <span class="typingCursor"></span></div>
    </div>

    <div class="result" id="googleResult">
        <div class="sectionTitle">GOOGLE results</div>
        <div id="googleResultsContainer"><div class="gcse-search"></div></div>
        <button class="btn" id="openGoogleBtn" style="margin-top:8px;width:100%;display:none;">Open in Google üåê</button>
    </div>

    <div class="card">
        <div class="label">Search history ‚è±Ô∏è</div>
        <div id="history" style="margin-top:8px"></div>
    </div>

    <div class="settingsFloat" id="settingsBtn">‚öô</div>

    <div class="overlay" id="overlay">
        <div class="settingsBox">
            <div style="font-weight:800; border-bottom: 1px solid #333; padding-bottom: 10px;">SETTINGS ‚ö°</div>
            <div>
                <div class="label">API key (Gemini) üîê</div>
                <input id="apiKeyInput" type="text" placeholder="paste key here" />
            </div>
            <div>
                <div class="label">Button color üé®</div>
                <input id="btnColor" type="color" value="#e4e6eb" style="width:100%; height:40px; border:none; background:none;"/>
            </div>
            <div>
                <div class="label">Search source üîé</div>
                <select id="searchSource">
                    <option value="both">Both ‚Äî Lambo + Google</option>
                    <option value="lambo">Lambo only</option>
                    <option value="google">Google only</option>
                </select>
            </div>
            <div style="display:flex; gap:8px; margin-top:10px;">
                <button class="btn" id="saveSettingsBtn" style="flex:1">Save</button>
                <button class="btn" id="closeSettingsBtn" style="flex:1; background:#333; color:#fff">Close</button>
            </div>
        </div>
    </div>

    <script>
        const LS={apiKey:'LAMBO_API_KEY',btnColor:'LAMBO_BTN_COLOR',searchSource:'LAMBO_SEARCH_SOURCE',history:'LAMBO_HISTORY'};
        const DEFAULTS={btnColor:'#e4e6eb',searchSource:'both'};
        
        let API_KEY=localStorage.getItem(LS.apiKey)||'';
        let BTN_COLOR=localStorage.getItem(LS.btnColor)||DEFAULTS.btnColor;
        let SEARCH_SOURCE=localStorage.getItem(LS.searchSource)||DEFAULTS.searchSource;
        let HISTORY=JSON.parse(localStorage.getItem(LS.history)||'[]');

        const qEl=document.getElementById('q'), goBtn=document.getElementById('goBtn'), lamboTextEl=document.getElementById('lamboText');
        const settingsBtn=document.getElementById('settingsBtn'), overlay=document.getElementById('overlay'), btnColorInput=document.getElementById('btnColor');

        document.getElementById('apiKeyInput').value=API_KEY;
        btnColorInput.value=BTN_COLOR;
        applyButtonColor(BTN_COLOR);
        renderHistory();

        goBtn.addEventListener('click', mainSearch);
        settingsBtn.addEventListener('click', ()=>overlay.style.display='flex');
        document.getElementById('closeSettingsBtn').addEventListener('click', ()=>overlay.style.display='none');
        document.getElementById('saveSettingsBtn').addEventListener('click', saveSettings);

        function applyButtonColor(c){
            document.documentElement.style.setProperty('--button-bg', c);
            const rgb = c.replace('#','');
            const r=parseInt(rgb.substring(0,2),16), g=parseInt(rgb.substring(2,4),16), b=parseInt(rgb.substring(4,6),16);
            const lum = 0.2126*r + 0.7152*g + 0.0722*b;
            document.documentElement.style.setProperty('--button-fg', lum > 150 ? '#0f1115' : '#ffffff');
        }

        async function mainSearch(){
            const q=qEl.value.trim();
            if(!q) return;
            HISTORY.unshift({q, ts:Date.now()});
            if(HISTORY.length>10) HISTORY.pop();
            localStorage.setItem(LS.history, JSON.stringify(HISTORY));
            renderHistory();
            
            lamboTextEl.textContent = "Lambo is typing...";
            
            if(!API_KEY) {
                setTimeout(() => { lamboTextEl.textContent = "Please add your API Key in settings! üò∫"; }, 800);
                return;
            }

            const endpoint=`https://generativelanguage.googleapis.com/v1beta/models/gemini-2.0-flash:generateContent?key=${API_KEY}`;
            try {
                const response = await fetch(endpoint, {
                    method: 'POST',
                    headers: {'Content-Type': 'application/json'},
                    body: JSON.stringify({contents: [{parts: [{text: `You are Lambo, a friendly AI assistant. User: ${q}`}]}]})
                });
                const data = await response.json();
                lamboTextEl.textContent = data.candidates[0].content.parts[0].text;
            } catch(e) {
                lamboTextEl.textContent = "Error connecting to Lambo üòø";
            }
        }

        function renderHistory(){
            const hEl = document.getElementById('history');
            hEl.innerHTML = HISTORY.map(h => `<div class="historyItem" onclick="document.getElementById('q').value='${h.q}';mainSearch();">${h.q}</div>`).join('');
        }

        function saveSettings(){
            API_KEY = document.getElementById('apiKeyInput').value;
            BTN_COLOR = btnColorInput.value;
            localStorage.setItem(LS.apiKey, API_KEY);
            localStorage.setItem(LS.btnColor, BTN_COLOR);
            applyButtonColor(BTN_COLOR);
            overlay.style.display='none';
        }
    </script>
</body>
  </html>
  
